<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>管理后台 - 恋爱秘密基地</title>
  <link rel="stylesheet" href="css/admin.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="admin-bg"></div>
  
  <div class="admin-container" id="adminPanel">
    <div class="login-box" id="loginBox">
      <h2>管理后台</h2>
      <p class="hint">首次使用请设置密码（至少4位）</p>
      <input type="password" id="passwordInput" placeholder="输入密码" autocomplete="off">
      <button id="loginBtn">进入</button>
    </div>

    <div class="dashboard hidden" id="dashboard">
      <h1>后台管理</h1>
      <a href="index.html" class="back-home">← 返回首页</a>
      
      <section class="section">
        <h3>恋爱打卡</h3>
        <button type="button" id="resetLoveBtn" class="text-btn">重置为120天（清除今日打卡）</button>
      </section>
      <section class="section">
        <h3>首页背景图片</h3>
        <p class="desc">仅用于 index.html（点击进入前的第一页）</p>
        <div class="input-group">
          <input type="text" id="bgUrlInput" placeholder="图片链接">
          <button type="button" id="saveUrlBtn">保存</button>
        </div>
        <label class="upload-area" id="uploadArea">
          <input type="file" id="fileInput" accept="image/*">
          <span>点击或拖拽上传本地图片</span>
        </label>
        <button type="button" id="clearImageBtn" class="text-btn">清除，恢复默认</button>
      </section>
      <section class="section">
        <h3>内页背景图片</h3>
        <p class="desc">用于除首页外的所有页面（inner、feed、相册、留言等）</p>
        <div class="input-group">
          <input type="text" id="bgInnerUrlInput" placeholder="图片链接">
          <button type="button" id="saveInnerUrlBtn">保存</button>
        </div>
        <label class="upload-area" id="uploadInnerArea">
          <input type="file" id="fileInnerInput" accept="image/*">
          <span>点击或拖拽上传本地图片</span>
        </label>
        <button type="button" id="clearInnerImageBtn" class="text-btn">清除，使用首页背景</button>
      </section>

      <section class="section">
        <h3>影视搜索</h3>
        <p class="desc">已使用豆瓣数据，无需配置 API</p>
      </section>
      <section class="section">
        <h3>背景视频（动态）</h3>
        <p class="desc">粘贴 .mp4 视频链接，优先于图片显示</p>
        <div class="input-group">
          <input type="text" id="bgVideoInput" placeholder="视频链接 .mp4">
          <button id="saveVideoBtn">保存</button>
        </div>
        <button type="button" id="clearVideoBtn" class="text-btn">清除视频，使用图片</button>
      </section>

      <div class="preview" id="preview"></div>
      <div class="preview" id="previewInner"></div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="https://static.cloudbase.net/cloudbase-js-sdk/latest/cloudbase.full.js"></script>
  <script src="js/cloudbase.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/admin.js"></script>
</body>
</html>
